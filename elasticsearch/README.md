# elasticsearch

## 分词器配置

对于中文，索引时使用 ik_max_word，尽量分的更精细；搜索时使用 ik_smart 分的更粗；
如果搜索词很短，比如单个字符，ik_smart 等同于没分词，但因为索引时分词精细到单个字符，所以依然可以搜到结果。
如果搜索词比较完整，ik_smart 会尽可能的将搜索词分成整个字符块，这样搜索结果更少更精确。

## 分页

使用 search_after 做深分页遍历。
使用 scroll 同步数据。

## 别名

给索引指定别名，便于热更新后的 reindex。
